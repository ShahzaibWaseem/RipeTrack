hyper_dir = "Catalogs/objects/";

%k = [1780 1783 1786 1789 1792 1795 1798 1801 1804 1807 1810 1813 1816 1819 1822 1825 1869 1872 1936 1939 1942 1945 2020 2023 2026 2029 2032 2035 2038 2041 2044 2047 2050 2053 2056 2059 2062 2065 2068 2071 2074 2077 2080 2083 2086 2089 2104 2107 2110 2113 2116 2119 2122 2125 2128 2131 2134 2137];
%k = [1781 1782 1787 1788 1793 1794 1799 1802 1803 1808 1809 1814 1815 1820 1821 1826 1870 1873 1937 1940 1943 1946 2021 2024 2027 2030 2033 2036 2037 2042 2043 2048 2049 2054 2055 2060 2061 2066 2067 2072 2073 2078 2079 2084 2085 2090 2105 2106 2111 2114 2115 2120 2121 2126 2127 2132 2133 2138];
%k = [1828 1832 1835  1838  1841  1844  1847  1850  1853  1856  1859  1862  1865  1875  1878  1881  1884  1887  1890  1893  1896  1899  1902  1905  1908  1911  1914  1917  1920  1923  1926  1930  1933  1948  1951  1954  1957  1960  1963  1966  1969  1972  1975  1978  1981  1984  1987  1990 1993  1996  1999  2002  2005  2008  2011  2014  2017  1829 1831 1836 1837 1842 1845 1848 1849 1854 1855 1860 1861 1866 1876 1877 1882 1883 1888 1891 1894 1895 1900 1901 1906 1907 1912 1915 1916 1921 1924 1927 1931 1934 1949 1952 1955 1958 1961 1964 1967 1968 1973 1976 1979 1982 1985 1988 1991 1994 1997 2000 2003 2006 2009 2012 2015 2018];
%k = [1373 1375 1379 1382 1385 1388 1391 1394 1397 1400 1403 1406 1409 1413 1416 1419 1422 1425 1428 1431 1435 1438 1441 1447 1450 1454];
%k = [1374 1378 1381 1384 1387 1390 1393 1396 1399 1402 1405 1408 1412 1415 1418 1421 1424 1427 1430 1434 1437 1440 1446 1449 1453 1451];
%k = [1578 1583 1586 1589 1592 1595 1598 1601 1604 1607 1610 1613 1616 1619 1622 1625 1628 1631 1634 1638 1641 1644 1647 1650 1777 1579 1582 1587 1588 1593 1594 1599 1600 1605 1606 1611 1612 1617 1618 1623 1626 1629 1630 1635 1639 1642 1645 1648 1651 1778];

for i = 1 : size(k, 2)
	hdrfilename = [hyper_dir num2str(k(i)) "/capture/" num2str(k(i)) ".hdr"];
	datfilename = [hyper_dir num2str(k(i)) "/capture/" num2str(k(i)) ".raw"];
	info = read_envihdr(hdrfilename);
	Z = multibandread(datfilename, info.size, [info.format "=>double"], info.header_offset, info.interleave, info.machine);
	rad = zeros(512, 512, 204);

	for j = 1 : 204
		rad(:, :, j) = Z(:, :, j);
	end

	matfile = ["working_objects/object_nh_204ch/" num2str(k(i))];
	save(matfile, "rad");
end